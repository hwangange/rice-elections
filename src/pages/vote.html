<!-- Load JS / CSS
================================================== -->

<section id="main">
 <!-- PUT CONTENT IN HERE
================================================== -->

  <!-- Open elections table -->
  <h2>Elections</h2>
  <p>Below is a list of elections that you are eligable to vote in.</p>
  <table class='table table-striped table-bordered'>
    <tr>
      <th>
        Election Name
      </th>
      <th>
        Status
      </th>
      <th>
        Action
      </th>
    </tr>
    {# All of these variables will be switched to whatever is handed down from
         above, but the structure is the same. Just shooting in the dark for now. #}
    {% if open_elections %}
      {% for open_election in open_elections %}
      <tr>
        <td>
          {{ open_election.name }}
        </td>
        <td>
          {{ open_election.status }}
        </td>
        <td>
          {% if open_election.user_voted %}
            <a class='btn btn-success disabled' href='#'>Voted</a>
          {% else %}
            <a class='btn btn-primary' href='/cast-ballot/?id={{ open_election.id }}'>Vote</a>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    {% else %}
      <tr>
        <td colspan='3'>
          <small>There are no open or upcoming elections available to you.</small>
        </td>
      </tr>
    {% endif %}
  </table>

  <!-- Election results table -->
  <h2>Results</h2>
  <p>Below is a list of elections for which voting has concluded.</p>
  <table class='table table-striped table-bordered'>
    <tr>
      <th>
        Election Name
      </th>
      <th>
        Time Ended
      </th>
      <th>
        Results
      </th>
    </tr>
    {# Again, a shot in the dark, to be connected to the backend interface when
       that has been decided upon. #}
    {% if election_results %}
      {% for election in election_results %}
      <tr>
        <td>
          {{ election.name }}
        </td>
        <td>
          {{ election.end_date }}
        </td>
        <td>
          <a href='#'>View Results</a>
        </td>
      </tr>
      {% endfor %}
    {% else %}
      <tr>
        <td colspan='3'>
          <small>There are no election results to show.</small>
        </td>
      </tr>
    {% endif %}
  </table>
</section>